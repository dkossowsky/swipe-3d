var __extends=this&&this.__extends||function(){var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(e,t){function r(){this.constructor=e}i(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,r,i){var n,s=arguments.length,o=s<3?t:null===i?i=Object.getOwnPropertyDescriptor(t,r):i;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)o=Reflect.decorate(e,t,r,i);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(o=(s<3?n(o):3<s?n(t,r,o):n(t,r))||o);return 3<s&&o&&Object.defineProperty(t,r,o),o};define(["require","exports","esri/core/tsSupport/declareExtendsHelper","esri/core/tsSupport/decorateHelper","../context/Context","./Util","esri/widgets/Widget","esri/core/accessorSupport/decorators","esri/widgets/support/widget"],function(e,t,i,n,u,s,r,o,l){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c="i-directions-steps",a="i-error",p="i-directions-steps-summary",d="i-summary-distance",h="i-summary-time",g="i-directions-steps-section",f="i-directions-steps-section-summary",y="i-directions-steps-section-splitter",v="i-maneuver",m="i-maneuver-icon",_="i-maneuver-event",x=function(r){function e(e){var t=r.call(this,e)||this;return t.util=new s.default,t}return i(e,r),e.prototype.getRouteResult=function(){if(this.directionsWidget&&this.directionsWidget.viewModel)return this.directionsWidget.viewModel.indoorsRouteResult},e.prototype.getSections=function(){var e=this.getRouteResult();if(e)return e.sections},e.prototype.getState=function(){if(this.directionsWidget&&this.directionsWidget.viewModel)return this.directionsWidget.viewModel.state},e.prototype.render=function(){var e=null,t=null,r=null;return"error"===this.getState()?r=this.renderError():(e=this.renderSummary(),t=this.renderSections()),l.tsx("div",{class:c},e,t,r)},e.prototype.renderError=function(){if("error"===this.getState()){if(this.directionsWidget&&this.directionsWidget.viewModel){var e=this.directionsWidget.viewModel;e&&e._routeLayer&&e._routeLayer.graphics&&0<e._routeLayer.graphics.length&&e._routeLayer.graphics.removeAll(),e&&e._highlightLayer&&e._highlightLayer.graphics&&0<e._highlightLayer.graphics.length&&e._highlightLayer.graphics.removeAll()}var t=u.default.getInstance().i18n;return l.tsx("p",{role:"alert",class:a},t.messages.errorSolvingRoute)}return null},e.prototype.renderSection=function(r,e){var i=this,t="section_"+e,n=t+"-2",s=t+"-3",o=t+"-4",c=t+"-5",a=[];r.steps.forEach(function(e,t){a.push(i.renderStep(r,e,t))});var u=l.tsx("div",{key:n,class:f},l.tsx("span",{key:s,class:y}),l.tsx("span",{key:o,class:d},r.distanceText),l.tsx("span",{key:c,class:h},r.timeText));return l.tsx("div",{key:t,class:g,bind:this,onclick:function(){i.whenSectionClicked(r)}},a,u)},e.prototype.renderSections=function(){var r=this,i=[],e=this.getSections();return e&&0<e.length&&e.forEach(function(e,t){i.push(r.renderSection(e,t))}),i},e.prototype.renderStep=function(t,r,e){var i=this,n=u.default.getInstance().i18n,s="step_"+e+"-2",o=r.text,c=r.maneuverIconUrl;if(r.isEvent)return l.tsx("a",{key:s,class:_,bind:this,onclick:function(e){e&&e.stopPropagation(),i.whenEventClicked(t,r)}},o);var a=null;return c&&(a=l.tsx("img",{alt:n.general.image,class:m,src:c})),l.tsx("a",{key:s,class:v,bind:this,onclick:function(e){}},a,o)},e.prototype.renderSummary=function(){var e=null,t="-2",r="-3",i=this.getRouteResult();return i&&(e=l.tsx("a",{href:"#",key:"-3",class:p,bind:this,onclick:this.whenSummaryClicked},l.tsx("span",{key:t,class:d},i.totalDistanceText),l.tsx("span",{key:r,class:h},i.totalTimeText))),e},e.prototype.whenEventClicked=function(e,t){var r=this.getRouteResult();r&&r.goToEvent(e,t)},e.prototype.whenSectionClicked=function(e){var t=this.getRouteResult();t&&t.goToSection(e)},e.prototype.whenSummaryClicked=function(){var e=this.getRouteResult();e&&e.goToRoute(!0)},n([o.property()],e.prototype,"directionsWidget",void 0),e=n([o.subclass("app.route.Steps")],e)}(o.declared(r));t.default=x});