var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};return function(t,e){function n(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}}(),__decorate=this&&this.__decorate||function(t,e,n,o){var r,i=arguments.length,s=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,n,o);else for(var a=t.length-1;0<=a;a--)(r=t[a])&&(s=(i<3?r(s):3<i?r(e,n,s):r(e,n))||s);return 3<i&&s&&Object.defineProperty(e,n,s),s};define(["require","exports","esri/core/tsSupport/declareExtendsHelper","esri/core/tsSupport/decorateHelper","../context/Context","./About","../common/DropdownMixin","../common/Icons","../context/Topic","esri/core/accessorSupport/decorators","esri/widgets/support/widget","esri/widgets/Widget"],function(t,e,n,o,a,r,i,s,u,l,d,c){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var p="i-burger",b="i-burger-button i-icon-button",f="i-dropdown-menu-container",g="i-dropdown-menu",y="i-dropdown-menu-content",h="i-brand-logo",x="i-brand-info",k="i-brand-name",v="i-icon-label",m="i-user-icon",_="i-signout-button i-link",w="i-menu-button",I=function(e){function t(t){return e.call(this)||this}return n(t,e),t.prototype.aboutClicked=function(){this._about||(this._about=new r.default),a.default.getInstance().layout.modal.content=this._about,this.dropdownIsActive=!1},t.prototype.getBrand=function(){var t=null;if(this._brand)t=this._brand;else{var e=a.default.getInstance().uiMode,n=window.getComputedStyle(document.documentElement,null),o=e.getLogoUrl();if("string"==typeof o&&0<o.length){var r='background-image: url("'+o+'")',i="",s=n.getPropertyValue("--i-logo-name");"string"==typeof s&&0<s.length&&(i=s),t=d.tsx("div",{key:"brand"},d.tsx("div",{key:"brandLogo",class:h,style:r}),d.tsx("div",{key:"brandInfo",class:x},d.tsx("div",{key:"brandName",class:k},i))),this._brand=t}}return t},t.prototype.render=function(){var t=a.default.getInstance().i18n,e=this.renderDropdownMenu();return d.tsx("div",{key:"i-burger",class:p},d.tsx("a",{key:"i-burger-dropdown",class:b,href:"#",tabindex:"0",title:t.general.options,role:"button","aria-haspopup":"true",bind:this,onblur:this.dropdownButtonBlur,onclick:this.dropdownButtonClicked},s.default.burger()),e)},t.prototype.renderBrand=function(){var t=this.getBrand();return t?d.tsx("li",{key:"brandItem"},t):null},t.prototype.renderDropdownMenu=function(){if(!this.dropdownIsActive)return null;var t=a.default.getInstance(),e=t.i18n,n=null,o=null;if(t.user.isAnonymous())n=d.tsx("li",{key:"signinItem"},d.tsx("a",{key:"signinBtn",class:w,href:"#",tabindex:"0",role:"button","aria-label":e.user.signin,bind:this,onclick:this.signinClicked},d.tsx("span",{key:"userIcon",class:m},s.default.user()),d.tsx("span",{key:"signinLbl",class:v},e.user.signin)));else{var r=a.default.getInstance().user.getDisplayName();o=d.tsx("li",{key:"signoutItem"},d.tsx("span",{key:"userIcon",class:m},s.default.user()),d.tsx("span",{key:"username",class:v},r),d.tsx("a",{key:"signoutBtn",class:_,href:"#",tabindex:"0",role:"button","aria-label":e.user.signoutTooltip,bind:this,onclick:this.signoutClicked},d.tsx("span",{key:"signoutLbl"},e.user.signout)))}var i=d.tsx("li",{key:"aboutItem"},d.tsx("a",{key:"aboutBtn",class:w,href:"#",tabindex:"0",role:"button","aria-label":e.about.caption,bind:this,onclick:this.aboutClicked},d.tsx("span",{key:"aboutIcon"},s.default.info()),d.tsx("span",{key:"aboutLbl",class:v},e.about.caption)));return d.tsx("div",{class:f},d.tsx("div",{class:g},d.tsx("div",{class:y,bind:this,"data-node-ref":"dropdownMenuContentNode",afterCreate:d.storeNode},d.tsx("ul",null,this.renderBrand(),n,o,i))))},t.prototype.signinClicked=function(){u.default.publish(u.default.SignInClicked,{}),this.dropdownIsActive=!1},t.prototype.signoutClicked=function(){u.default.publish(u.default.SignOutClicked,{}),this.dropdownIsActive=!1},t=o([l.subclass("app.main.Burger")],t)}(l.declared(c,i.default));e.default=I});