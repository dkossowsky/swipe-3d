var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(t,e){function o(){this.constructor=t}n(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),__decorate=this&&this.__decorate||function(t,e,o,n){var r,i=arguments.length,s=i<3?e:null===n?n=Object.getOwnPropertyDescriptor(e,o):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(t,e,o,n);else for(var c=t.length-1;0<=c;c--)(r=t[c])&&(s=(i<3?r(s):3<i?r(e,o,s):r(e,o))||s);return 3<i&&s&&Object.defineProperty(e,o,s),s};define(["require","exports","esri/core/tsSupport/declareExtendsHelper","esri/core/tsSupport/decorateHelper","./DropdownMixin","../common/Icons","esri/core/accessorSupport/decorators","esri/widgets/support/widget","esri/widgets/Widget"],function(t,e,n,r,o,p,i,d,s){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var c="i-dropdown-button",u="i-dropdown-button-subcaption",a="i-dropdown-menu-container",l="i-dropdown-menu",f="i-dropdown-menu-content",h="i-menu-option",y="svg-icon i-icon-empty",v=function(o){function t(t){var e=o.call(this,t)||this;return e.disabled=!1,e.showSubCaption=!0,e}return n(t,o),t.prototype.checkMenuOption=function(e){this.menuOptions&&this.menuOptions.forEach(function(t){e===t.value?t.checked||(t.checked=!0):t.checked&&(t.checked=!1)})},t.prototype.getSelectedMenuOptionValue=function(){return this.selectedMenuOption?this.selectedMenuOption.value:null},t.prototype.menuOptionClicked=function(t){this.dropdownIsActive=!1},t.prototype.renderDropdownButton=function(t){var e=this,o=c,n=u;this.disabled&&(o+=" i--disabled",n+=" i--disabled");var r=null;if(this.showSubCaption&&this.selectedMenuOption){var i=this.selectedMenuOption.subcaption;"string"==typeof i&&0<i.length&&(r=d.tsx("div",{key:"subcaption",class:n},i))}return d.tsx("div",{key:"i-dropdown-button-container"},d.tsx("a",{key:"i-dropdown-button",class:o,href:"#",tabindex:"0",title:t,role:"button","aria-haspopup":"true",bind:this,onblur:this.dropdownButtonBlur,onclick:function(){e.disabled||e.dropdownButtonClicked()}},t,p.default.dropdown()),r)},t.prototype.renderDropdownMenu=function(){var n=this;if(!this.dropdownIsActive)return null;var r=[];return this.menuOptions&&0<this.menuOptions.length&&this.menuOptions.forEach(function(t,e){var o=n.renderMenuOption(t,e);o&&r.push(o)}),d.tsx("div",{class:a,afterCreate:function(){n.scrollToMenuOption()}},d.tsx("div",{class:l},d.tsx("div",{class:f,bind:this,"data-node-ref":"dropdownMenuContentNode",afterCreate:d.storeNode},d.tsx("ul",null,r))))},t.prototype.renderMenuOption=function(t,e){var o=this,n="option_"+e,r=n+"_2",i=n+"_4",s=null,c="n";return!!t.checked?(c="y",s=d.tsx("span",{key:r},p.default.checkMark())):s=d.tsx("span",{key:r,class:y}),d.tsx("li",{key:n},d.tsx("a",{key:r,class:h,href:"#",tabindex:"0",onclick:function(){o.menuOptionClicked(t)},"data-i-checked":c},s,d.tsx("span",{key:i},t.label)))},t.prototype.scrollToMenuOption=function(){try{var t=this.dropdownMenuContentNode;if(t){var e=t.querySelectorAll("a[data-i-checked='y']");if(e&&1==e.length){var o=e[0];o&&"function"==typeof o.scrollIntoView&&o.scrollIntoView()}}}catch(t){console.error("Error scrolling to menu option",t)}},r([i.property()],t.prototype,"disabled",void 0),r([i.property()],t.prototype,"menuOptions",void 0),r([i.property()],t.prototype,"selectedMenuOption",void 0),r([i.property()],t.prototype,"showSubCaption",void 0),t=r([i.subclass("app.common.ChoiceDropdown")],t)}(i.declared(s,o.default));e.default=v});