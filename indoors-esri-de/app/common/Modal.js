var __extends=this&&this.__extends||function(){var r=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var o in e)e.hasOwnProperty(o)&&(t[o]=e[o])};return function(t,e){function o(){this.constructor=t}r(t,e),t.prototype=null===e?Object.create(e):(o.prototype=e.prototype,new o)}}(),__decorate=this&&this.__decorate||function(t,e,o,r){var n,i=arguments.length,c=i<3?e:null===r?r=Object.getOwnPropertyDescriptor(e,o):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)c=Reflect.decorate(t,e,o,r);else for(var s=t.length-1;0<=s;s--)(n=t[s])&&(c=(i<3?n(c):3<i?n(e,o,c):n(e,o))||c);return 3<i&&c&&Object.defineProperty(e,o,c),c};define(["require","exports","esri/core/tsSupport/declareExtendsHelper","esri/core/tsSupport/decorateHelper","../context/Context","./Icons","./modalUtil","esri/core/accessorSupport/decorators","esri/widgets/support/widget","esri/widgets/Widget"],function(t,e,o,r,n,i,c,s,a,l){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var d="i-modal",u="i-modal-body",p="i-modal-header",f="i-modal-close i-icon-button",h="i-modal-content",y=function(e){function t(t){return e.call(this)||this}return o(t,e),t.prototype.postInitialize=function(){var e=this;window.addEventListener("keydown",function(t){try{if(!e.content)return;c.checkKeydown(e,t)}catch(t){console.warn("Modal::keydown error"),console.error(t)}})},t.prototype.afterCreate=function(t){c.afterCreate(this,t)},t.prototype.close=function(){var t=this.priorActiveElement;this.content=null,this.focusables=null,this.priorActiveElement=null,t&&c.focusPrior(t)},t.prototype.focusFirst=function(){c.focusFirst(this.focusables)},t.prototype.render=function(){var e=this;if(!this.content)return null;var t=null;if(this.content&&(t="function"==typeof this.content.render?this.content.render():this.content),!t)return null;var o=n.default.getInstance().i18n;return a.tsx("div",{key:"modal-main",class:d,role:"dialog",onclick:function(t){e.close()},bind:this,afterCreate:this.afterCreate},a.tsx("div",{key:"modal-body",class:u,onclick:function(t){t.stopPropagation()}},a.tsx("div",{key:"modal-header",class:p},a.tsx("a",{key:"modal-close",href:"#",class:f,role:"button",onclick:function(t){t.stopPropagation(),e.close()},title:o.general.close,tabindex:"0"},i.default.close())),a.tsx("div",{key:"modal-content",class:h},t)))},r([s.property(),a.renderable()],t.prototype,"content",void 0),t=r([s.subclass("app.common.Modal")],t)}(s.declared(l));e.default=y});