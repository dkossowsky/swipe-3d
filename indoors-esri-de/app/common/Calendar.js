define(["require","exports","../context/Context","./modalUtil","dijit/Calendar","dojo/dom-construct"],function(o,e,l,t,d,u){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var f="i-modal i-modal-calendar",p="i-modal-body",h="i-modal-header",m="i-modal-close i-icon-button",y="i-icon i-icon-close esri-icon esri-icon-close",v="i-modal-content",n=function(){function o(){var e=this;window.addEventListener("keydown",function(o){try{if(!e.domNode)return;t.checkKeydown(e,o)}catch(o){console.warn("Modal::keydown error"),console.error(o)}})}return o.prototype.afterCreate=function(o){t.afterCreate(this,o)},o.prototype.close=function(){var o=this.priorActiveElement;o&&t.focusPrior(o),this.domNode&&(u.destroy(this.domNode),this.domNode=null),this.onClose()},o.prototype.focusFirst=function(){t.focusFirst(this.focusables)},o.prototype.onChange=function(o){},o.prototype.onClose=function(){},o.prototype.show=function(o){var e=this,t=l.default.getInstance().i18n,n=this.domNode=u.create("div",{class:f,role:"dialog",onclick:function(o){e.close()}},document.body),i=u.create("div",{class:p,onclick:function(o){o.stopPropagation()}},n),c=u.create("div",{class:h},i),r=u.create("a",{class:m,role:"button",tabindex:"0",href:"#",title:t.general.close,onclick:function(o){o.stopPropagation(),e.close()}},c),a=(u.create("span",{class:y},r),u.create("div",{class:v},i)),s=o;void 0!==s&&null!==o||(s=new Date),new d({class:"i-calendar",value:s,onChange:function(o){e.onChange(o),e.close()}},a).startup(),this.afterCreate(this.domNode)},o}();e.default=n});