var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r])};return function(t,e){function r(){this.constructor=t}o(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}}(),__decorate=this&&this.__decorate||function(t,e,r,o){var s,i=arguments.length,n=i<3?e:null===o?o=Object.getOwnPropertyDescriptor(e,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)n=Reflect.decorate(t,e,r,o);else for(var c=t.length-1;0<=c;c--)(s=t[c])&&(n=(i<3?s(n):3<i?s(e,r,n):s(e,r))||n);return 3<i&&n&&Object.defineProperty(e,r,n),n};define(["require","exports","esri/core/tsSupport/declareExtendsHelper","esri/core/tsSupport/decorateHelper","esri/core/tsSupport/assignHelper","../context/Context","esri/core/accessorSupport/decorators","esri/widgets/support/widget","esri/widgets/Widget","esri/widgets/Compass"],function(t,e,o,s,r,n,i,c,a,p){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l="i-compass",u="i-compass-wrapper",f="i-compass-clockwise",d="i-compass-counterclockwise",g="i-compass-container",w=function(r){function t(t){var e=r.call(this,t)||this;return e.rotating=!1,e}return o(t,r),t.prototype.afterCreateContainer=function(t){new p({view:this.view,container:t})},t.prototype.render=function(){var i=this,t=function(t){if(!i.rotating&&i.view){var e;i.rotating=!0;try{var r=i.view,o=r.center,s=r.viewpoint.rotation;t?s+=90:s-=90;(e=i._promise=r.goTo({target:o,rotation:s},{duration:1e3,easing:"out-back"})).then(function(){i.rotating=!1,i._promise=null}).catch(function(t){i.rotating=!1,i._promise=null,console.error("Error rotating view",t)})}catch(t){i.rotating=!1,i._promise=null,console.error("Error rotating view",t)}setTimeout(function(){i.rotating&&i._promise===e&&(i.rotating=!1,i._promise=null)},2e3)}},e=n.default.getInstance().i18n;return c.tsx("div",{class:l},c.tsx("div",{key:"wrapper",class:u},c.tsx("span",{key:"clockwise",class:f,onclick:function(){t(!0)},title:e.map.compass.clockwise},c.tsx("img",{src:"assets/clockwise.svg"})),c.tsx("span",{key:"counterClockwise",class:d,onclick:function(){t(!1)},title:e.map.compass.counterclockwise},c.tsx("img",{src:"assets/anti-clockwise.svg"})),c.tsx("div",{key:"container",class:g,bind:this,afterCreate:this.afterCreateContainer})))},t=s([i.subclass("app.map.Compass")],t)}(i.declared(a));e.default=w});