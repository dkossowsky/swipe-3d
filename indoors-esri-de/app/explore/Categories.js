var __extends=this&&this.__extends||function(){var o=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(e,t){function r(){this.constructor=e}o(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,r,o){var n,s=arguments.length,i=s<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,r):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,o);else for(var c=e.length-1;0<=c;c--)(n=e[c])&&(i=(s<3?n(i):3<s?n(t,r,i):n(t,r))||i);return 3<s&&i&&Object.defineProperty(t,r,i),i};define(["require","exports","esri/core/tsSupport/declareExtendsHelper","esri/core/tsSupport/decorateHelper","../context/Context","./Category","../aiim/util/aiimUtil","esri/widgets/Widget","esri/core/accessorSupport/decorators","esri/widgets/support/widget"],function(e,t,o,n,i,s,c,r,a,u){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var l="i-categories",p="i-category-icon",f=function(r){function e(e){var t=r.call(this,e)||this;return t.categoryIndex={},t.sources=t.makeSources(),t}return o(e,r),e.prototype.deactivateCategory=function(){this.activeCategory=null},e.prototype.makeSources=function(){return i.default.getInstance().aiim.datasets.categories.sources.filter(function(e){return 1===e.categoryLevel})},e.prototype.render=function(){var e=i.default.getInstance().i18n,t=[],r=this;return this.sources&&0<this.sources.length&&this.sources.forEach(function(e){e.url&&t.push(r.renderSource(e))}),0<t.length?u.tsx("ul",{class:l},t):u.tsx("p",null,e.messages.noSearchCategories)},e.prototype.renderSource=function(e){var t=i.default.getInstance().i18n,r=function(){this.showCategory(e)}.bind(this),o=e.name,n=null,s=e.iconUrl;return s&&(s=c.appendTokenToUrl(s)),s||(s="./assets/category-default.svg"),s&&(n=u.tsx("img",{class:p,src:s,title:o,alt:t.general.image,"aria-label":o})),u.tsx("li",{key:o},u.tsx("a",{href:"#",key:o,onclick:r,role:"button"},n,u.tsx("p",null,o)))},e.prototype.showCategory=function(e){var t=this.categoryIndex[e.key];t||(t=new s.default({source:e,parentPanel:this}),this.categoryIndex[e.key]=t),this.activeCategory=t},n([a.property()],e.prototype,"activeCategory",void 0),n([a.property()],e.prototype,"sources",void 0),e=n([a.subclass("app.explore.Categories")],e)}(a.declared(r));t.default=f});