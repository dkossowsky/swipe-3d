var __extends=this&&this.__extends||function(){var n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)t.hasOwnProperty(r)&&(e[r]=t[r])};return function(e,t){function r(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}}(),__decorate=this&&this.__decorate||function(e,t,r,n){var s,o=arguments.length,i=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,r):n;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)i=Reflect.decorate(e,t,r,n);else for(var c=e.length-1;0<=c;c--)(s=e[c])&&(i=(o<3?s(i):3<o?s(t,r,i):s(t,r))||i);return 3<o&&i&&Object.defineProperty(t,r,i),i};define(["require","exports","esri/core/tsSupport/declareExtendsHelper","esri/core/tsSupport/decorateHelper","../context/Context","../context/Topic","esri/widgets/Widget","esri/core/accessorSupport/decorators","esri/widgets/support/widget"],function(e,t,n,s,u,o,r,i,p){"use strict";Object.defineProperty(t,"__esModule",{value:!0});var c="i-yourplaces",a="i-section",l="i-yourplaces-subcaption",f="i-feature-items",d="i-feature-item-icon",y="i-feature-item-text",v="i-feature-item-title",h="i-feature-item-subtitle",g="i-feature-item-action",m="icon",x="home-16-f",_="star-16-f",I="pin-16-f",b="x-16-f",k=function(r){function e(e){var t=r.call(this)||this;return t.own(o.default.subscribe(o.default.SignedIn,function(){var e=u.default.getInstance().session.referenceLayer;e&&e.restoreAll()})),t}return n(e,r),e.prototype.itemClicked=function(e){o.default.publish(o.default.ShowSearchResult,{sourceKey:e.sourceKey,searchResult:e.searchResult,zoom:!0,highlight:!0,trackRecent:!1})},e.prototype.render=function(){var e=this.renderSaved(),t=this.renderRecent();return p.tsx("div",{key:"i-yourplaces",class:c},e,t)},e.prototype.renderFavorites=function(){var i=this,e=(u.default.getInstance().i18n,u.default.getInstance().session.referenceLayer.favorites),c=_,a=[];return e.forEach(function(e,t){var r="i-yourplaces-favorite-"+t,n=e.getTitle(),s=e.getSubTitle(),o=i.renderRemove(e,"favorites");a.push(i.renderItem(e,r,c,n,s,o))}),0===a.length?null:a},e.prototype.renderIcon=function(e,t){var r="libs/calcite-ui-icons/icons/sprite-16.svg#"+t;return p.tsx("svg",{class:e},p.tsx("use",{href:r}))},e.prototype.renderItem=function(e,t,r,n,s,o){var i=this,c=this.renderIcon(d,r),a=t+"_span1",u=t+"_span2",l=t+"_span3",f=null;return s&&(f=p.tsx("span",{key:l,class:h},s)),p.tsx("li",{key:t},p.tsx("a",{href:"#",onclick:function(){i.itemClicked(e)}},c,p.tsx("span",{key:a,class:y},p.tsx("span",{key:u,class:v},n),f),o))},e.prototype.renderHome=function(){var e=u.default.getInstance().i18n,t=u.default.getInstance().session.referenceLayer.homeLocation;if(!t.isValid())return null;var r=x,n=e.yourPlaces.home,s=t.getTitle();return this.renderItem(t,"i-yourplaces-item-home",r,n,s)},e.prototype.renderRecent=function(){var o=this,e=u.default.getInstance().i18n,t=u.default.getInstance().session.referenceLayer.recent,i=I,c=[];return t.forEach(function(e,t){var r="i-yourplaces-recent-"+t,n=e.getTitle(),s=e.getSubTitle();c.push(o.renderItem(e,r,i,n,s))}),0===c.length?null:p.tsx("div",{key:"i-yourplaces-recent",class:a},p.tsx("div",{class:l},e.yourPlaces.recent),p.tsx("ul",{key:"i-yourplaces-recent-list",class:f},c))},e.prototype.renderRemove=function(t,r){var e=u.default.getInstance().i18n,n=this.renderIcon(m,b);return p.tsx("a",{href:"#",class:g,onclick:function(e){e.stopPropagation(),e.preventDefault(),"favorites"===r&&u.default.getInstance().session.referenceLayer.removeFavorite(t)},title:e.yourPlaces.remove,role:"button"},n)},e.prototype.renderSaved=function(){var e=u.default.getInstance().i18n;return p.tsx("div",{key:"i-yourplaces-saved",class:a},p.tsx("div",{class:l},e.yourPlaces.saved),p.tsx("ul",{key:"i-yourplaces-saved-list",class:f},this.renderHome(),this.renderFavorites()))},e=s([i.subclass("app.yourplaces.YourPlaces")],e)}(i.declared(r));t.default=k});